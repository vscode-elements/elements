<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src 'none';
        script-src 'nonce-abc123';
        script-src-elem 'nonce-abc123' http://localhost:8000/__web-dev-server__web-socket.js;
        font-src 'self' data: 'nonce-abc123';
        style-src 'nonce-abc123';
        style-src-elem 'nonce-abc123';
        connect-src ws://localhost:8000/wds
      "
    />
    <title>VSCode Elements</title>
    <link
      rel="stylesheet"
      href="/node_modules/@vscode/codicons/dist/codicon.css"
      id="vscode-codicon-stylesheet"
      nonce="abc123"
    />
    <script nonce="abc123">
      window.vscodeWebviewPlaygroundNonce = 'abc123';

      const logEvents = (selector, eventType) => {
        document.querySelector(selector).addEventListener(eventType, (ev) => {
          console.log(ev);
        });
      };
    </script>
    <script
      type="module"
      src="/node_modules/@vscode-elements/webview-playground/dist/index.js"
      nonce="abc123"
    ></script>
    <script type="module" src="/dist/main.js" nonce="abc123"></script>
  </head>

  <body>
    <h1>Demo</h1>
    <main>
      <vscode-demo>
        <vscode-tree id="tree"></vscode-tree>

        <script nonce="abc123">
          document.addEventListener('DOMContentLoaded', () => {
            const tree = document.getElementById('tree');
            const icons = {
              branch: 'folder',
              leaf: 'file',
              open: 'folder-opened',
            };
            const data = [
              {
                icons,
                label: 'item 0',
                value: 'item 0 custom value example',
                tooltip: 'Test tooltip',
                open: true,
                subItems: [
                  {
                    icons,
                    label: 'item 0.0',
                    tooltip: 'Test',
                    open: true,
                    subItems: [
                      {
                        icons,
                        label: 'item 0.0.0',
                        tooltip: 'Description example',
                        description: 'Description example',
                      },
                      {
                        icons,
                        label: 'item 0.0.1',
                      },
                      {
                        icons,
                        label: 'item 0.0.2',
                        focused: true,
                      },
                      {
                        icons,
                        label: 'item 0.0.3',
                      },
                    ],
                  },
                  {
                    icons,
                    label: 'item 0.1',
                    open: true,
                    subItems: [
                      {
                        icons,
                        label: 'item 0.1.0',
                      },
                      {
                        icons,
                        label: 'item 0.1.1',
                      },
                      {
                        icons,
                        label: 'item 0.1.2',
                        subItems: [
                          {
                            icons,
                            label: 'item 0.1.2.0',
                          },
                          {
                            icons,
                            label: 'item 0.1.2.1',
                            subItems: [],
                          },
                        ],
                      },
                      {
                        icons,
                        label: 'item 0.1.3',
                      },
                    ],
                  },
                  {
                    icons,
                    label: 'item 0.2',
                  },
                ],
              },
              {
                icons,
                label: 'item 1',
                subItems: [
                  {
                    icons,
                    label: 'item 1.0',
                  },
                  {
                    icons,
                    label: 'item 1.1',
                  },
                ],
              },
              {
                icons,
                label: 'item 2',
              },
              {
                icons,
                label:
                  'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla orci eros, pretium nec fermentum nec, dignissim nec arcu. Proin id tellus eu nunc cursus varius. Cras in rutrum risus. Praesent posuere libero ut sem dapibus imperdiet. Aliquam consequat est vestibulum vulputate convallis. Fusce hendrerit, elit ut iaculis auctor, turpis neque semper magna, in laoreet arcu mi at nibh. Donec vitae ligula blandit, dapibus lacus ac, consectetur libero. Sed ac tortor vel libero hendrerit iaculis. Vestibulum arcu turpis, sodales et viverra at, ornare non turpis.',
              },
            ];

            tree.data = data;
            tree.addEventListener('vsc-tree-select', (ev) => {
              console.log(ev);
            });
          });
        </script>
      </vscode-demo>
    </main>
  </body>
</html>
